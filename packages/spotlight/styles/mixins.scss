//
// Spotlight Mixins
//

// Spottable elements
@function is-parent($target) {
	@return $target == parent;
}

@mixin spottable($target) {
	@if content-exists() and is-parent($target) {
		:global(.spottable) {
			@content;
		}
	}
}

@mixin spottable {
	@if content-exists() {
		&:global(.spottable) {
			@content;
		}
	}
}

// Focused Spottable elements
@mixin focus($target) {
	@if content-exists() and is-parent($target) {
		:global(.spotlight-input-key) &,
		:global(.spotlight-input-mouse) & {
			@include spottable {
				&:focus {
					@content;
				}
			};
		}

		:global(.spotlight-input-touch) & {
			@include spottable{
				&:active {
					@content;
				}
			};
		}
	}
}

@mixin focus {
	@if content-exists() {
		:global(.spotlight-input-key) &,
		:global(.spotlight-input-mouse) & {
			@include spottable{
				&:focus {
					@content;
				}
			}
		}

		:global(.spotlight-input-touch) & {
			@include spottable{
				&:active {
					@content;
				}
			}
		}
	}
}
