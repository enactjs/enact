// Tooltip.module.less
//
@import "../styles/variables.less";
@import "../styles/mixins.less";
@import "../styles/skin.less";

.tooltip {
	position: absolute;

	.tooltipArrow {
		position: absolute;
		width: @moon-tooltip-point-width;
		height: @moon-tooltip-point-height;
		transform-origin: left top;
	}

	.tooltipLabel {
		.moon-small-button-text();
		line-height: @moon-tooltip-label-height;
		white-space: nowrap;
		padding: @moon-spotlight-outset @moon-tooltip-h-padding;
		border-radius: @moon-tooltip-border-radius;

		:global(.enact-locale-right-to-left) & {
			text-align: right;
		}

		&.multi {
			white-space: normal;
			.locale-japanese-line-break();
		}
	}

	&.below {
		.tooltipArrow {
			top: 0;
		}

		.tooltipLabel {
			margin-top: @moon-tooltip-point-width;
		}

		&.rightArrow {
			.tooltipArrow {
				transform: rotate(-90deg) translateX(-100%) translateX(-0.5px);
				left: 0;
			}

			.tooltipLabel {
				border-top-left-radius: 0;
			}
		}

		&.leftArrow {
			.tooltipArrow {
				transform-origin: right top;
				transform: rotate(90deg) scaleX(-1) translateX(-0.5px);
				right: 0;
			}

			.tooltipLabel {
				text-align: right;
				border-top-right-radius: 0;
			}
		}

		&.centerArrow {
			transform: translateX(-50%);

			.tooltipArrow {
				transform: rotate(-90deg) translate(-100%, -50%) translateX(-1px);
				left: 50%;
			}
		}
	}

	&.above {
		.tooltipArrow {
			bottom: 0;
		}

		.tooltipLabel {
			margin-bottom: @moon-tooltip-point-width;
		}

		&.rightArrow {
			.tooltipArrow {
				transform-origin: left bottom;
				transform: scaleX(-1) rotate(90deg) translate(-100%, 100%) translateX(-0.5px);
				left: 0;
			}

			.tooltipLabel {
				border-bottom-left-radius: 0;
			}
		}

		&.leftArrow {
			.tooltipArrow {
				transform-origin: right bottom;
				transform: rotate(90deg) translate(0%, 100%) translateX(-0.5px);
				right: 0;
			}

			.tooltipLabel {
				text-align: right;
				border-bottom-right-radius: 0;
			}
		}

		&.centerArrow {
			transform: translateX(-50%);

			.tooltipArrow {
				transform-origin: left bottom;
				transform: rotate(90deg) translate(-100%, 50%) translateX(-1px);
				left: 50%;
			}
		}
	}

	&.left {
		.tooltipArrow {
			right: 0;
		}

		.tooltipLabel {
			margin-right: @moon-tooltip-point-width;
		}

		&.topArrow {
			.tooltipArrow {
				transform-origin: left center;
				transform: scaleY(-1) translateX(-0.5px);
				bottom: 0;
			}

			.tooltipLabel {
				border-bottom-right-radius: 0;
			}
		}

		&.bottomArrow {
			.tooltipArrow {
				transform: translateX(-0.5px);
			}

			.tooltipLabel {
				border-top-right-radius: 0;
			}
		}

		&.middleArrow {
			transform: translateY(-50%);

			.tooltipArrow {
				transform: translate(-25%, -50%);
				top: 50%;
			}
		}
	}

	&.right {
		.tooltipArrow {
			left: 0;
		}

		.tooltipLabel {
			margin-left: @moon-tooltip-point-width;
		}

		&.topArrow {
			.tooltipArrow {
				transform-origin: center top;
				transform: scale(-1) translateX(-0.5px);
				top: 100%;
			}

			.tooltipLabel {
				border-bottom-left-radius: 0;
			}
		}

		&.bottomArrow {
			.tooltipArrow {
				transform-origin: center top;
				transform: scaleX(-1) translateX(-0.5px);
			}

			.tooltipLabel {
				border-top-left-radius: 0;
			}
		}

		&.middleArrow {
			transform: translateY(-50%);

			.tooltipArrow {
				transform-origin: center center;
				transform: scaleX(-1) translate(-25%, -50%);
				top: 50%;
			}
		}
	}

	&.absolute {
		width: 0;
		height: 0;

		.tooltipAnchor {
			position: absolute;
		}

		&.below {
			&.leftArrow {
				.tooltipAnchor {
					transform: translateX(-100%);
				}
			}
			&.centerArrow {
				.tooltipAnchor {
					transform: translateX(-50%);
				}
			}
			&.rightArrow {
				.tooltipAnchor {
					/* transform: translate(0, 0); */
				}
			}
		}

		&.above {
			&.leftArrow {
				.tooltipAnchor {
					transform: translate(-100%, -100%);
				}
			}
			&.centerArrow {
				.tooltipAnchor {
					transform: translate(-50%, -100%);
				}
			}
			&.rightArrow {
				.tooltipAnchor {
					transform: translate(0, -100%);
				}
			}
		}

		&.left {
			&.topArrow {
				.tooltipAnchor {
					transform: translate(-100%, -100%);
				}
			}
			&.middleArrow {
				.tooltipAnchor {
					transform: translate(-100%, -50%);
				}
			}
			&.bottomArrow {
				.tooltipAnchor {
					transform: translate(-100%, 0);
				}
			}
		}

		&.right {
			&.topArrow {
				.tooltipAnchor {
					transform: translate(0, -100%);
				}
			}
			&.middleArrow {
				.tooltipAnchor {
					transform: translate(0, -50%);
				}
			}
			&.bottomArrow {
				.tooltipAnchor {
					/* transform: translate(0, 0); */
				}
			}
		}
	}

	&.relative {
		&.below {
			top: 100%;

			&.leftArrow {
				right: 50%;
			}
			&.centerArrow,
			&.rightArrow {
				left: 50%;
			}
		}

		&.above {
			bottom: 100%;

			&.leftArrow {
				right: 50%;
			}
			&.centerArrow,
			&.rightArrow {
				left: 50%;
			}
		}

		&.left {
			right: ~"calc(100% -" @moon-spotlight-outset ~")";

			&.topArrow {
				bottom: 50%;
			}
			&.middleArrow,
			&.bottomArrow {
				top: 50%;
			}
		}

		&.right {
			left: ~"calc(100% -" @moon-spotlight-outset ~")";

			&.topArrow {
				bottom: 50%;
			}
			&.middleArrow,
			&.bottomArrow {
				top: 50%;
			}
		}
	}

	// Skin colors
	.applySkins({
		.tooltipArrow {
			fill: @moon-tooltip-bg-color;
		}

		.tooltipLabel {
			color: @moon-tooltip-text-color;
			background-color: @moon-tooltip-bg-color;
		}
	});
}
