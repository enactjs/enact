// Input.less
//
@import '../styles/mixins.less';
@import '../styles/variables.less';
@import '../styles/text.less';

.input {
	.moon-body-text();

	padding: 0;
	border: 0;
	cursor: pointer;
	background: transparent;
	color: @moon-input-font-color;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;

	&::selection {
		color: @moon-spotlight-text-color;
		background-color: @moon-spotlight-background-color;
	}

	&[type=number] {
		-moz-appearance: textfield;

		&:hover {
			-moz-appearance: none;
		}
	}

	.input-placeholder({
		.vendor-opacity(1);

		color: @moon-input-placeholder-color;
	});

	&:focus {
		cursor: text;
		color: @moon-input-font-color;
		background-color: inherit;
	}

	&[disabled] {
		cursor: default;
	}

	// moon-neutral: to override the color set by .moon-neutral *
	:global(.moon-neutral) & {
		color: @moon-input-font-color;
	}

	:global(.enact-locale-right-to-left) & {
		text-align: right;
	}
}

.decorator {
	.iconEnd {
		padding: 0 0 0 9px;
	}

	.iconStart {
		padding: 0 9px 0 0;
	}

	:global(.enact-locale-right-to-left) & {
		.iconEnd {
			padding: 0 9px 0 0;
		}

		.iconStart {
			padding: 0 0 0 9px;
		}
	}

	.moon-divider-text();

	display: inline-block;
	padding: 12px 30px;
	border-radius: 1008px;
	margin: 6px;
	border: @moon-input-border-width solid transparent;
	background-color: @moon-input-decorator-bg-color;
	box-sizing: border-box;

	// RIGBY NOTE: multiline is a NOT YET IMPLEMENTED feature that combines <input> and <textarea>
	// into one control, to simplify input handling.
	&.multiline {
		display: block;
		padding: 12px 18px;
		border-radius: 12px;
	}

	// RIGBY NOTE: Complex focus scenarios are broken at the moment
	&:focus {
		border-color: @moon-spotlight-border-color;
		// color: @moon-spotlight-text-color;
		background-color: @moon-input-decorator-bg-color;
	}

	&:global(.focused) {
		border-color: @moon-active-border-color;
	}

	.decoratorIcon,
	&:focus .decoratorIcon {
		width: auto;
		margin: 0;
		color: @moon-input-font-color;
	}

	.moon-expandable-input & {
		margin: 6px 0;
	}

	> * {
		display: inline-block;
		vertical-align: middle;
	}
}

:global .enact-locale-non-latin {
	:local .decorator {
		padding: 6px 30px 12px;
	}

	// Languages with combining accent characters
	&.enact-locale-th, // Thai - Test Chars: ฟิ้ไััุุ
	&.enact-locale-ar, // Arabic
	&.enact-locale-fa, // Farsi
	&.enact-locale-ur, // Urdu
	&.enact-locale-ku, // Kurdish
	&.enact-locale-he, // Hebrew
	&.enact-locale-hi, // Hindi
	&.enact-locale-ta, // Tamil
	&.enact-locale-te, // Telugu
	&.enact-locale-kn, // Kannada
	&.enact-locale-ml, // Malayalam
	&.enact-locale-mr, // Marathi
	&.enact-locale-bn, // Bengali
	&.enact-locale-pa {// Panjabi
		:local .input {
			font-size: 24px;
			line-height: 48px;
		}
		:local .decorator {
			padding: 1px 30px;
		}
	}
}
